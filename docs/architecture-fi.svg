<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="535px" preserveAspectRatio="none" style="width:942px;height:535px;" version="1.1" viewBox="0 0 942 535" width="942px" zoomAndPan="magnify"><defs><filter height="300%" id="f1667mv4xqzg3s" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster Tunnistautumispalvelu--><polygon fill="#FFFFFF" filter="url(#f1667mv4xqzg3s)" points="30,405,40,395,293,395,293,513,283,523,30,523,30,405" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="283" x2="292" y1="405" y2="396"/><line style="stroke: #000000; stroke-width: 1.5;" x1="30" x2="283" y1="405" y2="405"/><line style="stroke: #000000; stroke-width: 1.5;" x1="283" x2="283" y1="405" y2="523"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="177" x="69" y="425.9951">Tunnistautumispalvelu</text><!--cluster Palvelin--><polygon fill="#FFFFFF" filter="url(#f1667mv4xqzg3s)" points="152,199,162,189,498,189,498,318,488,328,152,328,152,199" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="488" x2="497" y1="199" y2="190"/><line style="stroke: #000000; stroke-width: 1.5;" x1="152" x2="488" y1="199" y2="199"/><line style="stroke: #000000; stroke-width: 1.5;" x1="488" x2="488" y1="199" y2="328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="291" y="219.9951">Palvelin</text><!--cluster TietokantaPalvelin--><polygon fill="#FFFFFF" filter="url(#f1667mv4xqzg3s)" points="325,408.5,335,398.5,554,398.5,554,509.5,544,519.5,325,519.5,325,408.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="544" x2="553" y1="408.5" y2="399.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="325" x2="544" y1="408.5" y2="408.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="544" x2="544" y1="408.5" y2="519.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="364" y="429.4951">TietokantaPalvelin</text><!--cluster SähköpostiPalvelin--><polygon fill="#FFFFFF" filter="url(#f1667mv4xqzg3s)" points="578,413,588,403,811,403,811,505,801,515,578,515,578,413" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="801" x2="810" y1="413" y2="404"/><line style="stroke: #000000; stroke-width: 1.5;" x1="578" x2="801" y1="413" y2="413"/><line style="stroke: #000000; stroke-width: 1.5;" x1="801" x2="801" y1="413" y2="515"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="617" y="433.9951">SähköpostiPalvelin</text><!--cluster KolmannenOsapuolenPalvelin--><polygon fill="#FFFFFF" filter="url(#f1667mv4xqzg3s)" points="602,212.5,612,202.5,920,202.5,920,304.5,910,314.5,602,314.5,602,212.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="910" x2="919" y1="212.5" y2="203.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="602" x2="910" y1="212.5" y2="212.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="910" x2="910" y1="212.5" y2="314.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="232" x="641" y="233.4951">KolmannenOsapuolenPalvelin</text><!--entity LDAP--><rect fill="#D3D3D3" filter="url(#f1667mv4xqzg3s)" height="46.2969" style="stroke: #000000; stroke-width: 1.5;" width="66" x="203" y="453"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="198" y="458"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="198" y="489.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="218" y="480.9951">LDAP</text><!--entity Haka--><rect fill="#D3D3D3" filter="url(#f1667mv4xqzg3s)" height="46.2969" style="stroke: #000000; stroke-width: 1.5;" width="64" x="104" y="453"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="99" y="458"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="99" y="489.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="119" y="480.9951">Haka</text><!--entity WebApp--><rect fill="#D3D3D3" filter="url(#f1667mv4xqzg3s)" height="72.5938" style="stroke: #000000; stroke-width: 1.5;" width="161" x="168.5" y="239"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="163.5" y="244"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="163.5" y="301.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="131" x="183.5" y="266.9951">«Single-Page App»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="220" y="293.292">WebApp</text><!--entity API--><rect fill="#D3D3D3" filter="url(#f1667mv4xqzg3s)" height="72.5938" style="stroke: #000000; stroke-width: 1.5;" width="85" x="396.5" y="239"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="391.5" y="244"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="391.5" y="301.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55" x="411.5" y="266.9951">«REST»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="428.5" y="293.292">API</text><!--entity rems--><path d="M406.5,458.5 C406.5,448.5 439,448.5 439,448.5 C439,448.5 471.5,448.5 471.5,458.5 L471.5,493.7969 C471.5,503.7969 439,503.7969 439,503.7969 C439,503.7969 406.5,503.7969 406.5,493.7969 L406.5,458.5 " fill="#D3D3D3" filter="url(#f1667mv4xqzg3s)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M406.5,458.5 C406.5,468.5 439,468.5 439,468.5 C439,468.5 471.5,468.5 471.5,458.5 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="421.5" y="490.4951">rems</text><!--entity email--><rect fill="#D3D3D3" filter="url(#f1667mv4xqzg3s)" height="46.2969" style="stroke: #000000; stroke-width: 1.5;" width="66" x="594" y="453"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="589" y="458"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="589" y="489.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="609" y="480.9951">email</text><!--entity Vastaanottaja--><rect fill="#D3D3D3" filter="url(#f1667mv4xqzg3s)" height="46.2969" style="stroke: #000000; stroke-width: 1.5;" width="123" x="697.5" y="252.5"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="692.5" y="257.5"/><rect fill="#D3D3D3" height="5" style="stroke: #000000; stroke-width: 1.5;" width="10" x="692.5" y="288.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="712.5" y="280.4951">Vastaanottaja</text><!--entity Hakija--><ellipse cx="189" cy="18" fill="#D3D3D3" filter="url(#f1667mv4xqzg3s)" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M189,26 L189,53 M176,34 L202,34 M189,53 L176,68 M189,53 L202,68 " fill="none" filter="url(#f1667mv4xqzg3s)" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="169" y="92.9951">Hakija</text><!--entity Hyväksyjä--><ellipse cx="287" cy="18" fill="#D3D3D3" filter="url(#f1667mv4xqzg3s)" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M287,26 L287,53 M274,34 L300,34 M287,53 L274,68 M287,53 L300,68 " fill="none" filter="url(#f1667mv4xqzg3s)" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="254" y="92.9951">Hyväksyjä</text><!--entity APIKäyttäjä--><ellipse cx="439" cy="18" fill="#D3D3D3" filter="url(#f1667mv4xqzg3s)" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M439,26 L439,53 M426,34 L452,34 M439,53 L426,68 M439,53 L452,68 " fill="none" filter="url(#f1667mv4xqzg3s)" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="402" y="92.9951">APIKäyttäjä</text><!--link WebApp to Tunnistautumispalvelu--><path d="M168.366,310.968 C138.831,327.447 107.821,350.004 88,379 C84.9798,383.4181 82.4151,388.2025 80.2397,393.196 C80.1037,393.5081 79.9693,393.821 79.8363,394.1347 C79.7699,394.2916 79.7038,394.4486 79.638,394.6058 " fill="none" id="WebApp-Tunnistautumispalvelu" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="79.638,394.6058,86.7995,387.8446,81.5663,389.9926,79.4183,384.7594,79.638,394.6058" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="126" y="362.0669">tunnistaa käyttäjän</text><!--link Hakija to WebApp--><path d="M201.505,101.143 C212.22,140.253 227.512,196.07 237.825,233.71 " fill="none" id="Hakija-WebApp" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="239.183,238.667,240.6618,228.9298,237.8614,233.8448,232.9463,231.0444,239.183,238.667" style="stroke: #000000; stroke-width: 1.0;"/><!--link Hyväksyjä to WebApp--><path d="M279.08,101.143 C272.294,140.253 262.609,196.07 256.078,233.71 " fill="none" id="Hyväksyjä-WebApp" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="255.218,238.667,260.699,230.4842,256.0736,233.7407,252.817,229.1153,255.218,238.667" style="stroke: #000000; stroke-width: 1.0;"/><!--link WebApp to API--><path d="M329.577,275.5 C350.563,275.5 372.511,275.5 391.194,275.5 " fill="none" id="WebApp-API" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="396.373,275.5,387.373,271.5,391.373,275.5,387.373,279.5,396.373,275.5" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="373" y="263.5669"/><!--link APIKäyttäjä to API--><path d="M439,101.143 C439,140.094 439,195.615 439,233.248 " fill="none" id="APIKäyttäjä-API" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="439,238.667,443,229.667,439,233.667,435,229.667,439,238.667" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="445" y="149.0669">tunnistaa API-käyttäjän</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="459" y="164.1997">tietokantaa vasten</text><!--link API to email--><path d="M473.045,312.447 C510.412,351.9 569.471,414.258 602.524,449.1566 " fill="none" id="API-email" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="606.031,452.8597,602.746,443.5748,602.5926,449.2296,596.9379,449.0762,606.031,452.8597" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="533" y="362.0669">lähettää sähköpostia</text><!--link API to rems--><path d="M439,312.447 C439,349.717 439,407.427 439,443.12 " fill="none" id="API-rems" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="439,448.2213,443,439.2213,439,443.2213,435,439.2213,439,448.2213" style="stroke: #000000; stroke-width: 1.0;"/><!--link API to Vastaanottaja--><path d="M481.825,275.5 C535.661,275.5 628.677,275.5 691.97,275.5 " fill="none" id="API-Vastaanottaja" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#000000" points="697.236,275.5,688.236,271.5,692.236,275.5,688.236,279.5,697.236,275.5" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="505" y="296.5669">lähettää tiedot oikeuksista</text><!--
@startuml
skinParam ArrowColor Black
skinParam BackgroundColor White
skinParam componentBorderColor Black
skinParam actorBorderColor Black
skinparam componentBackgroundColor LightGray
skinparam databaseBackgroundColor LightGray
skinparam actorBackgroundColor LightGray
skinparam Padding 5

actor Hakija
actor Hyväksyjä
actor APIKäyttäjä

node Tunnistautumispalvelu {
  component LDAP
  component Haka
}

node Palvelin {
  component WebApp <<Single-Page App>>
  component API <<REST>>
}

WebApp - -> Tunnistautumispalvelu : "tunnistaa käyttäjän"

Hakija - -> WebApp
Hyväksyjä - -> WebApp
WebApp -> API : "     "
APIKäyttäjä - -> API : "tunnistaa API-käyttäjän\ntietokantaa vasten"


node TietokantaPalvelin {
  database rems
}

node SähköpostiPalvelin {
  component email
}

API - -> email : "lähettää sähköpostia"

node KolmannenOsapuolenPalvelin {
  component Vastaanottaja
}

API - -> rems
API .> Vastaanottaja : "lähettää tiedot oikeuksista"
@enduml

PlantUML version 1.2018.03(Thu Apr 05 16:59:15 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>